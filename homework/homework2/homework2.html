<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light" />
    <title>Homework 2 - Statistics Antonio Elia</title>

    <!-- Global project stylesheet -->
    <link rel="stylesheet" href="../../style.css" />

    <!-- Accessible hidden element only -->
    <style>
      .visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    </style>
  </head>
  <body>
    <header>
      <h1>Statistics Antonio Elia</h1>
      <span class="visually-hidden" aria-live="polite">
        Educational page: dataset, distributions and Caesar cipher
      </span>
      <p>ID: 2253126 — Homework 2</p>
    </header>

    <main>
      <section role="region" aria-label="Educational content">
        <h2 class="question-title">What is a dataset?</h2>
        <p>
          A dataset is a structured and organized collection of data, usually arranged in rows (observations) and columns (variables).
          It represents the foundation of any statistical analysis: without data, no descriptive, inferential, or predictive methods can be applied.
          In cybersecurity, datasets often contain logs, access events, authentication attempts, malware detections, or system alerts.
          Each record is a measurable event, such as a device generating an action at a specific timestamp.
          This structure allows for quantitative analysis through measures like frequencies, averages, and proportions.
          It also enables pattern detection, anomaly identification, and trend monitoring.
          By organizing raw information, statistical tools can extract meaningful insights.
          A dataset makes complex systems analyzable and measurable.
        </p>

        <h2 class="question-title">What is a distribution?</h2>
        <p>
          A distribution describes how the values of a variable are spread across their possible outcomes.
          It shows how often each value or category occurs in a dataset, revealing concentration, variability, and rare events.
          From a statistical perspective, analyzing distributions is a fundamental first step to understanding any data source.
          It provides insight into structure, balance, and anomalies that may require further investigation.
          Distributions can be represented through frequency tables, bar charts, or mathematical models.
          Statistical models like normal, Poisson, or exponential distributions help describe patterns more precisely.
          By examining their shape, it is possible to detect unusual behaviors early. Understanding distributions means transforming raw data into structured knowledge.
          This step is essential to detect irregularities, strengthen defenses, and make data-driven security decisions.
        </p>

        <h2 class="section-title">Practical example: security logs and distributions</h2>
        <p>
          We build a small dataset of <em>security logs</em> (8 rows) with three variables:
          <code>device_id</code>, <code>timestamp</code>, and <code>action</code>. We present the dataset,
          then the <strong>univariate distributions</strong> (value and frequency for each variable),
          and finally a compact <strong>bivariate distribution</strong> to see how two attributes co-occur.
        </p>

        <h2 class="section-title">Database SQL: creation and population</h2>
        <p class="muted">
          Schema and insert statements that generate the dataset. On the left the <span class="kbd">CREATE TABLE</span>,
          on the right the <span class="kbd">INSERT</span> statements (8 rows).
        </p>
        <div class="grid-img">
          <figure>
            <img src="./createTable.png" alt="SQL: CREATE TABLE for events" />
            <figcaption>Definition of table <code>events</code> with three fields: <code>device_id</code>, <code>timestamp</code>, <code>action</code>.</figcaption>
          </figure>
          <figure>
            <img src="./populate.png" alt="SQL: INSERT statements for events" />
            <figcaption>Insertion of 8 example events: successes, failures, and one password reset.</figcaption>
          </figure>
        </div>

        <h2 class="section-title">Dataset</h2>
        <table class="datatable">
          <thead>
            <tr>
              <th>device_id</th>
              <th class="nowrap">timestamp</th>
              <th>action</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>DEV-A</td><td class="nowrap">2025-10-12T23:45:12Z</td><td>login_success</td></tr>
            <tr><td>DEV-B</td><td class="nowrap">2025-10-13T08:46:01Z</td><td>login_failed</td></tr>
            <tr><td>DEV-A</td><td class="nowrap">2025-10-13T08:50:45Z</td><td>password_reset</td></tr>
            <tr><td>DEV-C</td><td class="nowrap">2025-10-13T09:01:33Z</td><td>login_success</td></tr>
            <tr><td>DEV-B</td><td class="nowrap">2025-10-14T09:05:20Z</td><td>login_failed</td></tr>
            <tr><td>DEV-B</td><td class="nowrap">2025-10-14T09:07:55Z</td><td>login_failed</td></tr>
            <tr><td>DEV-B</td><td class="nowrap">2025-10-14T09:09:42Z</td><td>login_success</td></tr>
            <tr><td>DEV-C</td><td class="nowrap">2025-10-14T09:15:00Z</td><td>login_success</td></tr>
          </tbody>
        </table>

        <h2 class="section-title">Univariate distributions (value and frequency)</h2>
        <div class="tables tri">
          <section>
            <h3>By <code>action</code></h3>
            <table class="datatable">
              <thead><tr><th>Value</th><th>Frequency</th></tr></thead>
              <tbody>
                <tr><td>login_success</td><td>4</td></tr>
                <tr><td>login_failed</td><td>3</td></tr>
                <tr><td>password_reset</td><td>1</td></tr>
              </tbody>
            </table>
            <div class="sql"><code>SELECT action AS value, COUNT(*) AS frequency
FROM events
GROUP BY action
ORDER BY frequency DESC;</code></div>
            <p class="muted">This distribution shows how many events fall in each <em>action</em> category.</p>
          </section>

          <section>
            <h3>By <code>device_id</code></h3>
            <table class="datatable">
              <thead><tr><th>Value</th><th>Frequency</th></tr></thead>
              <tbody>
                <tr><td>DEV-B</td><td>4</td></tr>
                <tr><td>DEV-A</td><td>2</td></tr>
                <tr><td>DEV-C</td><td>2</td></tr>
              </tbody>
            </table>
            <div class="sql"><code>SELECT device_id AS value, COUNT(*) AS frequency
FROM events
GROUP BY device_id
ORDER BY frequency DESC;</code></div>
            <p class="muted">This distribution shows how events are distributed across devices.</p>
          </section>
          <br></br>
          <section>
            <h3>By <code>date</code> (YYYY-MM-DD)</h3>
            <table class="datatable">
              <thead><tr><th>Value</th><th>Frequency</th></tr></thead>
              <tbody>
                <tr><td>2025-10-12</td><td>1</td></tr>
                <tr><td>2025-10-13</td><td>3</td></tr>
                <tr><td>2025-10-14</td><td>4</td></tr>
              </tbody>
            </table>
            <div class="sql"><code>SELECT substr(timestamp, 1, 10) AS value, COUNT(*) AS frequency
FROM events
GROUP BY value;</code></div>
            <p class="muted">This distribution reveals the daily activity pattern over time.</p>
          </section>
        </div>

        <h2 class="section-title">Bivariate distributions</h2>
        <section style="margin-bottom: 24px;">
          <h3><code>device_id × action</code></h3>
          <table class="datatable">
            <thead>
              <tr>
                <th>device_id</th>
                <th>action</th>
                <th>Frequency</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>DEV-A</td><td>login_success</td><td>1</td></tr>
              <tr><td>DEV-A</td><td>password_reset</td><td>1</td></tr>
              <tr><td>DEV-B</td><td>login_failed</td><td>3</td></tr>
              <tr><td>DEV-B</td><td>login_success</td><td>1</td></tr>
              <tr><td>DEV-C</td><td>login_success</td><td>2</td></tr>
            </tbody>
          </table>
          <div class="sql"><code>SELECT device_id, action, COUNT(*) AS frequency
FROM events
GROUP BY device_id, action
ORDER BY device_id, action;</code></div>
          <p class="muted">This bivariate distribution shows how each device is associated with specific actions.</p>
        </section>

        <section style="margin-bottom: 24px;">
          <h3><code>date × action</code></h3>
          <table class="datatable">
            <thead>
              <tr>
                <th>date</th>
                <th>action</th>
                <th>Frequency</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>2025-10-12</td><td>login_success</td><td>1</td></tr>
              <tr><td>2025-10-13</td><td>login_failed</td><td>1</td></tr>
              <tr><td>2025-10-13</td><td>password_reset</td><td>1</td></tr>
              <tr><td>2025-10-13</td><td>login_success</td><td>1</td></tr>
              <tr><td>2025-10-14</td><td>login_failed</td><td>2</td></tr>
              <tr><td>2025-10-14</td><td>login_success</td><td>2</td></tr>
            </tbody>
          </table>
          <div class="sql"><code>SELECT substr(timestamp, 1, 10) AS date, action, COUNT(*) AS frequency
FROM events
GROUP BY date, action
ORDER BY date, action;</code></div>
          <p class="muted">This shows how actions are distributed across different dates.</p>
        </section>

        <section>
          <h3><code>device_id × date</code></h3>
          <table class="datatable">
            <thead>
              <tr>
                <th>device_id</th>
                <th>date</th>
                <th>Frequency</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>DEV-A</td><td>2025-10-12</td><td>1</td></tr>
              <tr><td>DEV-A</td><td>2025-10-13</td><td>1</td></tr>
              <tr><td>DEV-B</td><td>2025-10-13</td><td>1</td></tr>
              <tr><td>DEV-B</td><td>2025-10-14</td><td>3</td></tr>
              <tr><td>DEV-C</td><td>2025-10-13</td><td>1</td></tr>
              <tr><td>DEV-C</td><td>2025-10-14</td><td>1</td></tr>
            </tbody>
          </table>
          <div class="sql"><code>SELECT device_id, substr(timestamp, 1, 10) AS date, COUNT(*) AS frequency
FROM events
GROUP BY device_id, date
ORDER BY device_id, date;</code></div>
          <p class="muted">This shows the activity of each device distributed over different dates.</p>
        </section>

        <hr style="margin: 36px 0 16px;" />
        <h2 class="question-title">Caesar cipher — distribution, encryption and decrypt via frequency analysis</h2>
        <div class="hint">
          The <strong>Caesar Cipher</strong> shifts each letter by <em>k</em> positions (mod 26). With k=3:
          <span class="kbd">A→D</span>, <span class="kbd">B→E</span>, …, <span class="kbd">Z→C</span>.
          Here: (1) we analyze the <em>distribution</em> of the text (A–Z only), (2) apply encryption, (3) run
          <em>automatic decryption</em> by estimating the shift with a <em>chi-squared</em> test against Italian frequencies.
        </div>

        <div class="panel stack" id="caesar-app" role="application">
          <form id="caesar-form" onsubmit="return false;" class="stack" autocomplete="off">
            <label class="stack">
              <span class="section-title" style="font-size:1.1rem;">Plaintext</span>
              <textarea id="plain-input" rows="6" placeholder="Paste the text to analyze/encrypt..."></textarea>
            </label>

            <div class="stack twin">
              <label class="stack">
                <span style="font-weight:600;">Key k</span>
                <input id="shift-input" type="number" min="-1000" max="1000" value="3" />
              </label>
              <label class="stack">
                <span style="font-weight:600;">Ciphertext</span>
                <textarea id="cipher-input" rows="3" placeholder="This field is filled in by the Encrypt button;"></textarea>
              </label>
            </div>

            <div class="stack twin">
              <button id="analyze-btn" type="button" class="btn secondary">📊 Analyze distribution (plaintext)</button>
              <button id="enc-btn" type="button" class="btn primary">🔐 Encrypt (use k)</button>
            </div>

            <div class="stack">
              <button id="crack-btn" type="button" class="btn secondary">🧠 Crack (auto-decrypt from ciphertext)</button>
            </div>
          </form>

          <div id="cipher-output" style="display:none;">
            <h3 class="section-title">Results</h3>
            <pre id="result-text" class="panel" style="margin:0;"></pre>
            <p class="muted" id="meta-line" style="margin:8px 0 0;"></p>
          </div>

          <div id="charts" style="display:none;">
            <h3 class="section-title">Letter distribution (Plain vs Cipher)</h3>
            <p class="muted">
              Relative frequencies over A–Z. Side-by-side bars:
              <span class="kbd" style="background:#e8f1ff;">Plain</span> vs
              <span class="kbd" style="background:#ffe8e8;">Cipher</span>.
              N=<span id="n-plain">0</span> (plain), N=<span id="n-cipher">0</span> (cipher)
            </p>
            <div style="width:100%;max-width:980px;">
              <canvas id="hist-canvas" style="width:100%;height:420px;border:1px solid #e1e4ea;border-radius:10px;background:#fff;"></canvas>
            </div>
            <div class="muted" style="margin-top:8px;">
              <span style="display:inline-block;width:12px;height:12px;background:#4e79a7;border:1px solid #365b82;vertical-align:middle;margin-right:6px;"></span> Plain
              <span style="display:inline-block;width:12px;height:12px;background:#e15759;border:1px solid #b13b3d;vertical-align:middle;margin:0 6px 0 16px;"></span> Cipher
            </div>

            <details style="margin-top:10px;">
              <summary class="section-title" style="font-size:1.05rem;">Frequency table (percentages)</summary>
              <table class="datatable" id="freq-table">
                <thead><tr><th>Letter</th><th>Plain %</th><th>Cipher %</th></tr></thead>
                <tbody></tbody>
              </table>
            </details>
          </div>
        </div>

        <div style="margin-top:24px;">
          <a class="button" href="../../index.html">⬅ Back to Home</a>
        </div>
      </section>
    </main>

    <footer>
      <small>© 2025 Antonio Elia — 2253126 Statistics</small>
    </footer>

    <script src="./homework2.js" defer></script>
  </body>
</html>